<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">

<title>Introduction to R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="intro_to_r_files/libs/clipboard/clipboard.min.js"></script>
<script src="intro_to_r_files/libs/quarto-html/quarto.js"></script>
<script src="intro_to_r_files/libs/quarto-html/popper.min.js"></script>
<script src="intro_to_r_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="intro_to_r_files/libs/quarto-html/anchor.min.js"></script>
<link href="intro_to_r_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="intro_to_r_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="intro_to_r_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="intro_to_r_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="intro_to_r_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="intro_to_r_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="intro_to_r_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-r-why-r" id="toc-what-is-r-why-r" class="nav-link active" data-scroll-target="#what-is-r-why-r"><span class="header-section-number">1</span> What is R? Why R?</a>
  <ul class="collapse">
  <li><a href="#base-r-vs.-r-packages" id="toc-base-r-vs.-r-packages" class="nav-link" data-scroll-target="#base-r-vs.-r-packages"><span class="header-section-number">1.1</span> Base R vs.&nbsp;R packages</a></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio"><span class="header-section-number">1.2</span> RStudio</a></li>
  <li><a href="#markdown" id="toc-markdown" class="nav-link" data-scroll-target="#markdown"><span class="header-section-number">1.3</span> Markdown</a></li>
  <li><a href="#level-two-heading" id="toc-level-two-heading" class="nav-link" data-scroll-target="#level-two-heading"><span class="header-section-number">1.4</span> Level two heading</a>
  <ul class="collapse">
  <li><a href="#level-three-heading" id="toc-level-three-heading" class="nav-link" data-scroll-target="#level-three-heading"><span class="header-section-number">1.4.1</span> Level three heading</a></li>
  </ul></li>
  <li><a href="#quarto-.qmd" id="toc-quarto-.qmd" class="nav-link" data-scroll-target="#quarto-.qmd"><span class="header-section-number">1.5</span> Quarto (.qmd)</a></li>
  </ul></li>
  <li><a href="#executing-r-commands" id="toc-executing-r-commands" class="nav-link" data-scroll-target="#executing-r-commands"><span class="header-section-number">2</span> Executing R commands</a>
  <ul class="collapse">
  <li><a href="#r-as-a-calculator" id="toc-r-as-a-calculator" class="nav-link" data-scroll-target="#r-as-a-calculator"><span class="header-section-number">2.1</span> R as a calculator</a></li>
  <li><a href="#shortcuts-for-executing-commands-in-r" id="toc-shortcuts-for-executing-commands-in-r" class="nav-link" data-scroll-target="#shortcuts-for-executing-commands-in-r"><span class="header-section-number">2.2</span> Shortcuts for Executing Commands in R</a></li>
  </ul></li>
  <li><a href="#r-objects-and-data-structures" id="toc-r-objects-and-data-structures" class="nav-link" data-scroll-target="#r-objects-and-data-structures"><span class="header-section-number">3</span> R objects and data structures</a>
  <ul class="collapse">
  <li><a href="#preview-of-lecture-on-objects" id="toc-preview-of-lecture-on-objects" class="nav-link" data-scroll-target="#preview-of-lecture-on-objects"><span class="header-section-number">3.1</span> Preview of lecture on objects</a></li>
  <li><a href="#assignment" id="toc-assignment" class="nav-link" data-scroll-target="#assignment"><span class="header-section-number">3.2</span> Assignment</a></li>
  <li><a href="#objects" id="toc-objects" class="nav-link" data-scroll-target="#objects"><span class="header-section-number">3.3</span> Objects</a></li>
  <li><a href="#atomic-vectors" id="toc-atomic-vectors" class="nav-link" data-scroll-target="#atomic-vectors"><span class="header-section-number">3.4</span> (Atomic) Vectors</a>
  <ul class="collapse">
  <li><a href="#length-function-to-get-the-number-of-elements" id="toc-length-function-to-get-the-number-of-elements" class="nav-link" data-scroll-target="#length-function-to-get-the-number-of-elements"><span class="header-section-number">3.4.1</span> length() function to get the number of elements</a></li>
  <li><a href="#typeof-function-to-get-the-data-type-of-a-vector" id="toc-typeof-function-to-get-the-data-type-of-a-vector" class="nav-link" data-scroll-target="#typeof-function-to-get-the-data-type-of-a-vector"><span class="header-section-number">3.4.2</span> typeof() function to get the data type of a vector</a></li>
  <li><a href="#named-vectors" id="toc-named-vectors" class="nav-link" data-scroll-target="#named-vectors"><span class="header-section-number">3.4.3</span> Named vectors</a></li>
  </ul></li>
  <li><a href="#sequences" id="toc-sequences" class="nav-link" data-scroll-target="#sequences"><span class="header-section-number">3.5</span> Sequences</a></li>
  <li><a href="#vectorized-math" id="toc-vectorized-math" class="nav-link" data-scroll-target="#vectorized-math"><span class="header-section-number">3.6</span> Vectorized math</a></li>
  <li><a href="#lists" id="toc-lists" class="nav-link" data-scroll-target="#lists"><span class="header-section-number">3.7</span> Lists</a></li>
  <li><a href="#main-takeaways-about-atomic-vectors-and-lists" id="toc-main-takeaways-about-atomic-vectors-and-lists" class="nav-link" data-scroll-target="#main-takeaways-about-atomic-vectors-and-lists"><span class="header-section-number">3.8</span> Main takeaways about atomic vectors and lists</a></li>
  </ul></li>
  <li><a href="#using-r-functions" id="toc-using-r-functions" class="nav-link" data-scroll-target="#using-r-functions"><span class="header-section-number">4</span> Using R functions</a>
  <ul class="collapse">
  <li><a href="#what-are-functions" id="toc-what-are-functions" class="nav-link" data-scroll-target="#what-are-functions"><span class="header-section-number">4.1</span> What are functions</a></li>
  <li><a href="#function-syntax" id="toc-function-syntax" class="nav-link" data-scroll-target="#function-syntax"><span class="header-section-number">4.2</span> Function syntax</a></li>
  <li><a href="#function-syntax-more-on-function-arguments" id="toc-function-syntax-more-on-function-arguments" class="nav-link" data-scroll-target="#function-syntax-more-on-function-arguments"><span class="header-section-number">4.3</span> Function syntax: More on function arguments</a></li>
  <li><a href="#function-arguments-the-na.rm-argument" id="toc-function-arguments-the-na.rm-argument" class="nav-link" data-scroll-target="#function-arguments-the-na.rm-argument"><span class="header-section-number">4.4</span> Function arguments, the <code>na.rm</code> argument</a></li>
  <li><a href="#help-files-for-functions" id="toc-help-files-for-functions" class="nav-link" data-scroll-target="#help-files-for-functions"><span class="header-section-number">4.5</span> Help files for functions</a></li>
  <li><a href="#function-arguments-the-dot-dot-dot-...-argument" id="toc-function-arguments-the-dot-dot-dot-...-argument" class="nav-link" data-scroll-target="#function-arguments-the-dot-dot-dot-...-argument"><span class="header-section-number">4.6</span> Function arguments, the dot-dot-dot (<code>...</code>) argument</a></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix"><span class="header-section-number">5</span> Appendix</a>
  <ul class="collapse">
  <li><a href="#directories-and-filepaths-skim" id="toc-directories-and-filepaths-skim" class="nav-link" data-scroll-target="#directories-and-filepaths-skim"><span class="header-section-number">5.1</span> Directories and filepaths (skim)</a></li>
  <li><a href="#create-r-project" id="toc-create-r-project" class="nav-link" data-scroll-target="#create-r-project"><span class="header-section-number">5.2</span> Create “R project”</a></li>
  <li><a href="#r-markdown" id="toc-r-markdown" class="nav-link" data-scroll-target="#r-markdown"><span class="header-section-number">5.3</span> R Markdown</a></li>
  <li><a href="#comment-running-r-code-chunks-vs.-knit-entire-.rmd-file" id="toc-comment-running-r-code-chunks-vs.-knit-entire-.rmd-file" class="nav-link" data-scroll-target="#comment-running-r-code-chunks-vs.-knit-entire-.rmd-file"><span class="header-section-number">5.4</span> Comment: Running R code chunks vs.&nbsp;“knit” entire .Rmd file</a></li>
  <li><a href="#matrices-optional" id="toc-matrices-optional" class="nav-link" data-scroll-target="#matrices-optional"><span class="header-section-number">5.5</span> Matrices [optional]</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-r-why-r" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> What is R? Why R?</h1>
<p>For detailed info visit <a href="https://www.r-project.org/about.html">R-project.org</a></p>
<p>The Inter-University Consortium for Political and Social Research <a href="https://www.icpsr.umich.edu/icpsrweb/content/shared/ICPSR/faqs/what-is-r.html">(ICPSR)</a> says:</p>
<blockquote class="blockquote">
<p>R is “an alternative to traditional statistical packages such as SPSS, SAS, and Stata such that it is an extensible, open-source language and computing environment for Windows, Macintosh, UNIX, and Linux platforms. Such software allows for the user to freely distribute, study, change, and improve the software under the <a href="https://www.gnu.org/home.en.html">Free Software Foundation’s GNU General Public License</a>.”</p>
</blockquote>
<p>I don’t find this definition particularly helpful. I think of <em>R</em> as:</p>
<ul>
<li>An “open source” programming language and software that provide collections of interrelated “functions”</li>
<li>“open source” means that <em>R</em> is free and created by the user community. The user community can modify basic things about <em>R</em> and add new capabilities to what R can do</li>
<li>a “function” is usually something that takes in some “input,” processes this input in some way, and creates some “output”
<ul>
<li>e.g., the <code>max()</code> function takes as input a collection of numbers (e.g., 3,5,6) and returns as output the number with the maximum value</li>
<li>e.g., the <code>lm()</code> function takes in as inputs a dataset and a statistical model you specify within the function, and returns as output the results of the regression model</li>
</ul></li>
</ul>
<section id="base-r-vs.-r-packages" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="base-r-vs.-r-packages"><span class="header-section-number">1.1</span> Base R vs.&nbsp;R packages</h2>
<p><strong>Base R</strong></p>
<ul>
<li>When you install R, you automatically install the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html">“Base R”</a> set of functions</li>
<li>Example of a few of the functions in in Base R:
<ul>
<li><code>as.character()</code> function</li>
<li><code>print()</code> function</li>
<li><code>setwd()</code> function</li>
</ul></li>
</ul>
<p><strong>R packages</strong></p>
<ul>
<li>an R “package” (or “library”) is a collection of (related) functions developed by the R community</li>
<li>Examples of R packages:
<ul>
<li><code>tidyverse</code> package for manipulating and visualizing data</li>
<li><code>igraph</code> package for network analyses</li>
<li><code>leaflet</code> package for mapping</li>
<li><code>rvest</code> package for webscraping</li>
</ul></li>
<li><strong>All</strong> R packages are free!</li>
<li>Often a package we install may be a collection of packages (e.g., <code>tidyverse</code>) and/or may depend on other packages, which will be automatically installed for you</li>
</ul>
<p><strong>Installing and Loading R packages</strong></p>
<p>You only need to install a package once. To install an R package use <code>install.package()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("tidyverse")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You need to load a package everytime you plan to use it. To load a package use the <code>library()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="rstudio" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="rstudio"><span class="header-section-number">1.2</span> RStudio</h2>
<p>“<a href="https://www.rstudio.com/products/rstudio/features/">RStudio</a> is an integrated development environment (IDE) for R. It includes a console, syntax-highlighting editor that supports direct code execution, as well as tools for plotting, history, debugging and workspace management.”</p>
<p><a href="https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html">Pane Layout from RStudio User Guide</a> <img src="pane_layout_23.jpeg" class="img-fluid"></p>
</section>
<section id="markdown" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="markdown"><span class="header-section-number">1.3</span> Markdown</h2>
<p><strong>What is Markdown?</strong></p>
<ul>
<li>Markdown is a set of rules that define how the layout and presentation of text and images appear in a document. One of the most popular markup languages is HTML. For example, when you go to a website, there are certain sections like a header, navigation bar, specific headings, color schemes, font styles, etc.<br>
</li>
<li>The <a href="https://daringfireball.net/projects/markdown/">Markdown language</a> was created by John Gruber in 2004.</li>
</ul>
<p><strong>How is Markdown different than a WYSIWYG (WIZ–ee–wig) editor?</strong></p>
<ul>
<li><p>What you see is what you get (WYSIWYG) editing software enables you to point and click to make changes to the format, text, and images in a document and view the changes immediately (e.g., Microsoft Word, Google Docs).</p></li>
<li><p>In a Markdown file, you use Markdown syntax to format text and images.</p></li>
</ul>
<p><strong>Example Markdown syntax:</strong></p>
</section>
<section id="level-two-heading" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="level-two-heading"><span class="header-section-number">1.4</span> Level two heading</h2>
<section id="level-three-heading" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="level-three-heading"><span class="header-section-number">1.4.1</span> Level three heading</h3>
<ul>
<li>Bullet point</li>
</ul>
<p><strong>Bold text</strong></p>
<p><em>italics</em></p>
<p><strong>What is markdown used for?</strong></p>
<ul>
<li>HTML or PDF documents</li>
<li>Websites</li>
<li>Note taking (Obsidian)</li>
<li>Books</li>
<li>Presentations and more</li>
</ul>
<p>See <a href="https://www.markdownguide.org/getting-started/">The Markdown Guide</a> for more on Markdown.</p>
</section>
</section>
<section id="quarto-.qmd" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="quarto-.qmd"><span class="header-section-number">1.5</span> Quarto (.qmd)</h2>
<p><strong>What is Quarto?</strong></p>
<p>From <a href="https://quarto.org/docs/get-started/hello/images/rstudio-qmd-how-it-works.png">How Quarto works in R</a><img src="rstudio-qmd-how-it-works.png" class="img-fluid"></p>
<ul>
<li><p>From <a href="https://quarto.org/docs/faq/rmarkdown.html#what-can-i-use-quarto-for">What can I use Quarto for?</a></p>
<ul>
<li>“Quarto is an open-source scientific and technical publishing system built on Pandoc. You can weave together narrative text and code to produce elegantly formatted output as documents, web pages, blog posts, books and more.”</li>
</ul></li>
<li><p>Think of a Quarto file with the extension .qmd as a document written in Markdown syntax that embeds R code (Markdown + R code).</p></li>
<li><p>The integration of Quarto in R is relatively new and builds off of <strong>R Markdown</strong>.</p>
<ul>
<li>From <a href="https://rmarkdown.rstudio.com/articles_intro.html">RStudio</a>: “R Markdown is a file format for making dynamic documents with R. An R Markdown document is written in markdown (an easy-to-write plain text format) and contains chunks of embedded R code.”</li>
</ul></li>
<li><p>Similar to Quarto, for the last ten years, R users have relied on R Markdown to produce static and dynamic documents. However, “Quarto is a multi-language, next generation version of R Markdown from Posit, with many new new features and capabilities. Like R Markdown, Quarto uses knitr to execute R code, and is therefore able to render most existing Rmd files without modification.” From <a href="https://quarto.org/">Quarto</a>.</p></li>
</ul>
<p><strong>Key Takeaways</strong>:</p>
<ul>
<li><p>Quarto does not depend on R; therefore, anyone using Python, Javascript, Julia, etc., can create documents with Quarto (.qmd) and collaborate on projects much more easily.</p></li>
<li><p>The Quarto visual editor in R Studio provides a WYSIWYG editing interface, making document creation seamless.</p></li>
<li><p>Quarto works with R Markdown and has additional features, making it easier to use.</p></li>
</ul>
<p><strong>What is Quarto used for?</strong></p>
<ul>
<li>HTML, PDF, MS Word documents<br>
</li>
<li>Presentations in Revealjs, Powerpoint, and Beamer</li>
<li>Markdown (GitHub)</li>
<li>Wikis</li>
</ul>
<p><strong>How we will be using Quarto in this class</strong></p>
<ul>
<li>All lectures created using Quarto (.qmd) file extension</li>
<li>You will use Quarto to complete homework assignments</li>
</ul>
<p><strong>After this class you might:</strong></p>
<ul>
<li>never use Microsoft Word again!</li>
<li>Use Quarto to create: papers for class; presentations; journal manuscripts; your dissertation; etc.</li>
</ul>
<p><strong>Further Reading:</strong></p>
<ul>
<li>Markdown Guide, Basic Syntax: https://www.markdownguide.org/basic-syntax/</li>
<li>A Brief History of R Markdown: https://slides.yihui.org/2021-Brazilian-R-Day.html#1</li>
<li>R Markdown the Definitive Guide: https://bookdown.org/yihui/rmarkdown/</li>
<li>RStudio User Guide Quarto visual editor: https://docs.posit.co/ide/user/ide/guide/documents/visual-editor.html</li>
</ul>
<!--
## Why learn R? R can do a lot of stuff!

How we have used R+RStudio+RMarkdown in our research team

-   Stuff traditional statistical software (e.g., SPSS, Stata) can do
    -   Data manipulation, creating analysis datasets
    -   [Descriptive statistics and statistical models](https://ozanj.github.io/soc_of_ed_presentation/#/slide-15)
    -   Graphs
-   Stuff traditional statistical software cannot do
    -   [Static policy reports](https://emraresearch.org/sites/default/files/2019-03/joyce_report.pdf)
    -   Static presentations
        -   All lectures for this class written in RMarkdown
    -   [Interactive presentations](https://ozanj.github.io/joyce_report/#/title)
    -   Interactive map
        -   [Third Way map](https://ozanj.github.io/joyce_report/#/4)
        -   [Karina's recruitment redlining map](https://ksalazar3.github.io/defense/#/24/4)
    -   [Interactive dashboards](https://jkcf.shinyapps.io/dashboard/)
    -   Interactive graphs

Some of the other stuff R can create/do:

-   [Websites](https://bookdown.org/yihui/rmarkdown/websites.html); [journals](https://bookdown.org/yihui/rmarkdown/journals.html); [books](https://bookdown.org/); [web-scraping](https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/); network analysis; machine learning/artificial intelligence

-->
<!-- 

# What is this course about?

### What is data management?

- Data management is everything we do to create analysis datasets that are ready to analyze, e.g.:
  - collect data
  - read/import data into statistical programming language
  - clean data
  - integrate data from multiple sources (e.g, join/merge, append)
  - change organizational structure of data so it is suitable for analysis
  - create "analysis variables" from "input variables"
  - Make sure that you have created analysis variables correctly

### Why I don't call this class "R for data science"
 
 
Learn to walk before you can run!

- "data science" implies doing fancy, sexy things like mapping, network analysis, web-scraping, etc.
- But if you don't know how to clean data, these sexy analyses and visualizations will be useless
- "80% of data science is data cleaning"
- The skills you learn in this data management oriented class will be usefull for fancy data science stuff down the road!

### Who is this class for?

This class is for anyone who wants to work with data, that is people who want to be:

- researchers working with survey data and doing traditional statistical analyses
- researchers who want to do "data science" oreinted research 
- analysts working at think tanks/non-profits or as institutional researchers
- journalists who create interactive data visualizations

-->
</section>
</section>
<section id="executing-r-commands" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Executing R commands</h1>
<section id="r-as-a-calculator" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="r-as-a-calculator"><span class="header-section-number">2.1</span> R as a calculator</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">*</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
</section>
<section id="shortcuts-for-executing-commands-in-r" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="shortcuts-for-executing-commands-in-r"><span class="header-section-number">2.2</span> Shortcuts for Executing Commands in R</h2>
<p>Three ways to execute commands in R</p>
<ol type="1">
<li>Type/copy commands directly into the “console”</li>
<li>`code chunks’ in RMarkdown (.Rmd &amp; .QMD files)
<ul>
<li>Can execute one command at a time, one chunk at a time, or “knit” the entire<br>
</li>
<li><strong>Cmd/Ctrl + Enter</strong>: execute highlighted line(s) within chunk</li>
<li><strong>Cmd/Ctrl + Shift + k</strong>: “knit” entire document</li>
</ul></li>
<li>R scripts (.R files)
<ul>
<li>This is just a text file full of R commands</li>
<li><strong>Cmd/Ctrl + Enter</strong>: execute highlighted line(s)</li>
<li><strong>Cmd/Ctrl + Shift + Enter</strong> (without highlighting any lines): run entire script</li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">*</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
</div>
</section>
</section>
<section id="r-objects-and-data-structures" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> R objects and data structures</h1>
<section id="preview-of-lecture-on-objects" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="preview-of-lecture-on-objects"><span class="header-section-number">3.1</span> Preview of lecture on objects</h2>
<ul>
<li>This section of the lecture provides a conceptual and practical introduction to “objects” in R</li>
<li><strong>Important</strong>: goal is to begin to develop familiarity with concepts that we will introduce in more detail in later weeks
<ul>
<li>I don’t expect you to understand or retain all this information perfectly</li>
<li>So just focus on understanding as much as you can and ask any questions that come to mind</li>
</ul></li>
</ul>
</section>
<section id="assignment" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="assignment"><span class="header-section-number">3.2</span> Assignment</h2>
<p><strong>Assignment</strong> refers to creating an “object” and assigning values to it</p>
<ul>
<li>The object may be a variable, a dataset, a bit of text that reads “la la la”</li>
<li><code>&lt;-</code> is the assignment operator
<ul>
<li>in other languages <code>=</code> is the assignment operator</li>
</ul></li>
<li>general syntax:
<ul>
<li><code>object_name &lt;- object_values</code></li>
<li>good practice to put a space before and after assignment operator</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an object and assign value</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="st">"yay!"</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "yay!"</code></pre>
</div>
</div>
</section>
<section id="objects" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="objects"><span class="header-section-number">3.3</span> Objects</h2>
<p>R is an “object-oriented” programming language (like Python, JavaScript). So, what is an <strong>object</strong>?</p>
<ul>
<li><p>formal computer science definitions are confusing because they require knowledge of concepts we haven’t introduced yet</p></li>
<li><p>More intuitively, I think objects as anything I assign values to</p>
<ul>
<li>For example, below, <code>a</code> and <code>b</code> are the names of objects I assigned values to</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="st">"yay!"</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "yay!"</code></pre>
</div>
</div>
<ul>
<li>Ben Skinner (R maven) says “Objects are like boxes in which we can put things: data, functions, and even other objects.”</li>
</ul>
<p>Many commercial statistical software packages (e.g., SPSS, Stata) operate on datasets, which consist of rows of observations and columns of variables</p>
<ul>
<li>Usually, these packages can open only one dataset at a time</li>
<li>By contrast, in R everything is an object and there is no limit to the number of objects R can hold (except memory)</li>
</ul>
<!--

### Objects

Understanding what an "object" is in R can be confusing because almost everything is an object

- There is no limit to the number of objects R can hold (except memory)
- Objects can be categorized by "__type__" (which we will discuss today) and by "__class__" (which we will discuss more in later weeks)

\medskip 

Object "type" refers to how the object is stored internally by R

- Some object "types" require more memory than others
- For example, an "integer" storage type takes up less money than a "character" storage type
  - therefore, it makes sense to store the value `5` as an integer rather than a character

\medskip 

"Class" is an "attribute" of an object -- built on top of object type -- that defines what things you can do to an object

- For example, a date is an object with a numeric _type_ and a date _class_
- R "functions" do different things to different types/classes of objects
  - e.g., date functions are meant to process objects with type=numeric and class=date; these functions don't work on objects with type=character (e.g., "yay!")

-->
</section>
<section id="atomic-vectors" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="atomic-vectors"><span class="header-section-number">3.4</span> (Atomic) Vectors</h2>
<p><strong>The fundamental data structure in R is the “vector”</strong></p>
<ul>
<li>A vector is a collection of values</li>
<li>The individual values within a vector are called “elements”</li>
<li>Values in a vector can be numeric, character (e.g., “Apple”), or some other <em>type</em></li>
</ul>
<p><strong>Formal classification of vectors in R</strong></p>
<p>Here, I introduce the classification of vectors by Grolemund and Wickham</p>
<p>There are two broad types of <strong>vectors</strong></p>
<ol type="1">
<li><strong>Atomic vectors</strong>. An object that contains elements. Six “types” of atomic vectors:
<ul>
<li><strong>logical</strong>, <strong>integer</strong>, <strong>double</strong>, <strong>character</strong>, <strong>complex</strong>, and <strong>raw</strong>.
<ul>
<li><strong>Integer</strong> and <strong>double</strong> vectors are collectively known as <strong>numeric</strong> vectors.</li>
</ul></li>
</ul></li>
<li><strong>Lists</strong>. Like atomic vectors, lists are objects that contain elements
<ul>
<li>elements within a list may be atomic vectors</li>
<li>elements within a list may also be other lists; that is lists can contain other lists</li>
</ul></li>
</ol>
<p><strong>Table 1. The six types of atomic vectors in R: double, integer, logical, character, complex, and raw</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Example</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">double (or numeric)</td>
<td style="text-align: left;">-0.5, 120.9, 5.0</td>
<td style="text-align: left;">Floating point numbers with double precision</td>
</tr>
<tr class="even">
<td style="text-align: left;">integer</td>
<td style="text-align: left;">-1L, 3L, 5L</td>
<td style="text-align: left;">"Long" integers</td>
</tr>
<tr class="odd">
<td style="text-align: left;">logical</td>
<td style="text-align: left;">TRUE, FALSE</td>
<td style="text-align: left;">Boolean</td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">"California", "New York"</td>
<td style="text-align: left;">Text</td>
</tr>
<tr class="odd">
<td style="text-align: left;">complex</td>
<td style="text-align: left;">-5+11i, 3+4i, 0+3i</td>
<td style="text-align: left;">Real+imaginary numbers</td>
</tr>
<tr class="even">
<td style="text-align: left;">raw</td>
<td style="text-align: left;">01, ff</td>
<td style="text-align: left;">Raw bytes (as hexadecimal)</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<p><a href="https://discdown.org/rprogramming/vectors.html">Atomic Vectors table adapted from (DiSCDown, Introduction to Programming with R, Chapter 4 Vectors)</a></p>
<p><br></p>
<p><strong>Visual representation of the Grolemund and Wickham classification</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data-structures-overview.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption>Overview of data structures (Grolemund and Wickham, 2018, chapter 20)</figcaption>
</figure>
</div>
<p>One difference between atomic vectors and lists: <strong>homogeneous</strong> vs.&nbsp;<strong>heterogeneous</strong> elements</p>
<ul>
<li>atomic vectors are <strong>homogeneous</strong>: all elements within atomic vector must be of the same type</li>
<li>lists can be <strong>heterogeneous</strong>: e.g., one element can be an integer and another element can be character</li>
</ul>
<p><br></p>
<p><strong>Intuitive approach to vectors used by Dr.&nbsp;Ben Skinner</strong>:</p>
<ul>
<li>data <strong>type</strong>: logical, numeric (integer and double), character, etc.</li>
<li>data <strong>structure</strong>: vector, list, matrix, etc.</li>
</ul>
<p>I find Skinner’s classification more intuitive conceptually. However, it isn’t completely consistent with how R and R functions think about objects. <br></p>
<p><br> <strong>Let’s practice creating simple vectors</strong></p>
<p>Below we use the combine function <code>c()</code> to create a numeric vector that contains three elements</p>
<ul>
<li>Help file says that <code>c()</code> “combines values into a vector or list”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#?c # to see help file for the c() "combine" function</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>) <span class="co"># create object called x, which is a vector with three elements </span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># (each an integer)</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>x <span class="co"># print object x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 7 9</code></pre>
</div>
</div>
<p>Vector where the elements are characters</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>animals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lions"</span>, <span class="st">"tigers"</span>, <span class="st">"bears"</span>, <span class="st">"oh my"</span>) <span class="co"># create object called animals</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>animals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lions"  "tigers" "bears"  "oh my" </code></pre>
</div>
</div>
<p><br> <strong>Student task</strong></p>
<p>Either in the R console or within the R markdown file, do the following:</p>
<ol type="1">
<li>Create a vector called <code>v1</code> with three elements, where all the elements are numbers. Then print the values.</li>
<li>Create a vector called <code>v2</code> with four elements, where all the elements are characters (i.e., enclosed in single ’’ or double “” quotes). Then print the values.</li>
<li>Create a vector called <code>v3</code> with five elements, where some elements are numeric and some elements are characters. Then print the values.</li>
</ol>
<details>
<summary>
<strong>Solutions</strong>
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector called v1 with three elements</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># all the elements are numbers</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>v1 <span class="co"># print value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>) </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector called v2 with four elements</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># all the elements are characters</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>v2 <span class="co"># print value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b" "c" "d"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">"a"</span>, <span class="st">"b"</span>) </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector called v3 with five element</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># some elements are numeric and some elements are characters</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>v3 <span class="co"># print value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2" "3" "a" "b"</code></pre>
</div>
</div>
</details>
<p><br></p>
<!--
When printing object `v3` numbers were printed with quotations around them (e.g., `"1"`), because they are stored as "characters" 

- Why? A vector must be only one "type" (numeric, character, or logical). You can’t mix modes in the same vector.
-->
<!--
## Atomic vectors

__Developing an intuitive understanding of vector types__

**Grolemund and Wickham classification**:

1.  **Atomic vectors**. six "types": logical, integer, double, character, complex, raw.
2.  **Lists**

Problem with this classification:

-   Not conceptually intuitive
-   Technically, lists are a type of vector, but people often think of atomic vectors and lists as fundamentally different things

**Classification used by my R maven Ben Skinner**:

-   data **type**: logical, numeric (integer and double), character, etc.
-   data **structure**: vector, list, matrix, etc.

I find Skinner's classification more intuitive conceptually. However, it isn't completely consistent with how R and R functions think about objects. 

-->
<section id="length-function-to-get-the-number-of-elements" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="length-function-to-get-the-number-of-elements"><span class="header-section-number">3.4.1</span> length() function to get the number of elements</h3>
<p><strong>“Length” of an atomic vector is the number of elements</strong></p>
<p>For remainder of lecture, I’ll use the term <strong>vector</strong> to refer to atomic vectors</p>
<p>Use <code>length()</code> function to examine vector length</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>animals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lions"</span>, <span class="st">"tigers"</span>, <span class="st">"bears"</span>, <span class="st">"oh my"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>animals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lions"  "tigers" "bears"  "oh my" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(animals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>A single number (or a single string/character) is a vector with <code>length==1</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="st">"Tommy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
</section>
<section id="typeof-function-to-get-the-data-type-of-a-vector" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="typeof-function-to-get-the-data-type-of-a-vector"><span class="header-section-number">3.4.2</span> typeof() function to get the data type of a vector</h3>
<p>The “type” of an atomic vector refers to the elements within the vector.</p>
<p>While there are six “types” of atomic vectors, we’ll focus on the following types:</p>
<ul>
<li>numeric:
<ul>
<li>“integer” (e.g., 5)</li>
<li>“double” (e.g., 5.5)</li>
</ul></li>
<li>character (e.g., “ozan”)</li>
<li>logical (e.g., <code>TRUE</code>, <code>FALSE</code>)</li>
</ul>
<p>Use <code>typeof()</code> function to examine vector type</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">1.6</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5 1.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>animals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lions"  "tigers" "bears"  "oh my" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(animals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><strong>Data type of a vector, numeric</strong></p>
<p>Numeric vectors can be “integer” (e.g., 5) or “double” (e.g., 5.5)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<p>R stores numbers as doubles by default.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<p>To make an integer, place an <code>L</code> after the number:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">5</span>L)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p><strong>Data type of a vector, character</strong></p>
<p>In contrast to “numeric” data types which are used to store numbers, the “character” data type is used to store <strong>strings</strong> of text.</p>
<ul>
<li>Strings may contain any combination of numbers, letters, symbols, etc.</li>
<li>Character vectors are sometimes referred to as string vectors</li>
</ul>
<p>When creating a vector where elements have <code>type==character</code> (or when referring to the value of a string), place single `` or double “” quotes around text</p>
<ul>
<li>the text within quotes is the “string”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>c1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cat"</span>,<span class="st">'cash'</span>,<span class="st">'candy cane'</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>c1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cat"        "cash"       "candy cane"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(c1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(c1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Numeric values can also be stored as strings</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>c2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1"</span>,<span class="st">"2"</span>,<span class="st">"3"</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>c2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2" "3"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(c2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><strong>Data type of a vector, logical</strong></p>
<p>Logical vectors can take three possible values: <code>TRUE</code>, <code>FALSE</code>, <code>NA</code></p>
<ul>
<li><code>TRUE</code>, <code>FALSE</code>, <code>NA</code> are special keywords; they are different from the character strings <code>"TRUE"</code>, <code>"FALSE"</code>, <code>"NA"</code></li>
<li>Don’t worry about <code>NA</code> for now</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="st">"TRUE"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">NA</span>,<span class="st">"FALSE"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>log <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">NA</span>,<span class="cn">FALSE</span>)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>We’ll learn more about logical vectors later</p>
<p><strong>All elements in (atomic) vector must have same data type.</strong></p>
<p>Atomic vectors are <strong>homogenous</strong>;</p>
<ul>
<li>An atomic vector has one data type</li>
<li>all elements within an atomic vector must have the same data “type”</li>
</ul>
<p>If a vector contains elements of different type, the vector type will be type of the most “complex” element</p>
<p>Atomic vector types from simplest to most complex:</p>
<ul>
<li>logical &lt; integer &lt; double &lt; character</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># recall L after an integer forces type to be integer </span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># rather than double</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">NA</span>,<span class="dv">1</span>L)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">NA</span>,<span class="fl">1.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">TRUE</span>,<span class="cn">NA</span>,<span class="fl">1.5</span>,<span class="st">"howdy!"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
<section id="named-vectors" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="named-vectors"><span class="header-section-number">3.4.3</span> Named vectors</h3>
<p>All vectors can be “named” (i.e., name individual elements within vector)</p>
<p>Example of creating an unnamed vector</p>
<ul>
<li>the <code>str()</code> function “compactly display[s] the internal structure of an R object” [from help file]; very useful for describing objects</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co">#?str</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="st">"hi!"</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"   "2"   "3"   "hi!"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:4] "1" "2" "3" "hi!"</code></pre>
</div>
</div>
<p>Example of creating a named vector</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a=</span><span class="dv">1</span>,<span class="at">b=</span><span class="dv">2</span>,<span class="dv">3</span>,<span class="at">c=</span><span class="st">"hi!"</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    a     b           c 
  "1"   "2"   "3" "hi!" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Named chr [1:4] "1" "2" "3" "hi!"
 - attr(*, "names")= chr [1:4] "a" "b" "" "c"</code></pre>
</div>
</div>
</section>
</section>
<section id="sequences" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="sequences"><span class="header-section-number">3.5</span> Sequences</h2>
<p>(Loose) definition: a sequence is a set of numbers in ascending or descending order</p>
<p>A vector containing a “sequence” of numbers (e.g., 1, 2, 3) can be created using the colon operator <code>:</code> with the notation <code>start:end</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="dv">5</span><span class="sc">:</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -5 -4 -3 -2 -1  0  1  2  3  4  5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">:-</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  5  4  3  2  1  0 -1 -2 -3 -4 -5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>s<span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="co">#same as this: s&lt;- c(1:10)</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>Creating sequences using <code>seq()</code> function - basic syntax [with default values]:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 11 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">10</span>,<span class="at">to=</span><span class="dv">15</span>,<span class="at">by=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 11 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">100</span>,<span class="at">to=</span><span class="dv">150</span>,<span class="at">by=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 110 120 130 140 150</code></pre>
</div>
</div>
</section>
<section id="vectorized-math" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="vectorized-math"><span class="header-section-number">3.6</span> Vectorized math</h2>
<p>Most mathematical operations operate on each element of the vector</p>
<ul>
<li>e.g., add a single value to a vector and that value will be added to each element of the vector</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span><span class="fl">+.5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5 2.5 3.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6</code></pre>
</div>
</div>
<p>Mathematical operations involving two vectors with the same length behave differently</p>
<ul>
<li>e.g., for addition: add element 1 of vector 1 to element 1 of vector 2, add element 2 of vector 1 to element 2 of vector 2, etc.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">+</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 1 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">*</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 0 2</code></pre>
</div>
</div>
</section>
<section id="lists" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="lists"><span class="header-section-number">3.7</span> Lists</h2>
<p><strong>Lists</strong></p>
<p>What is a <strong>list</strong>?</p>
<ul>
<li>Like (atomic) vectors, a list is an object that contains <strong>elements</strong></li>
<li>Unlike vectors, data types can differ across elements within a list</li>
<li>An element within a list can be another list
<ul>
<li>this characteristic makes lists more complicated than vectors</li>
<li>suitable for representing hierarchical data</li>
</ul></li>
</ul>
<p>Lists are more complicated than vectors; today we’ll just provide a basic introduction</p>
<p><strong>Create lists using <code>list()</code> function</strong></p>
<p>Create a vector (for comparison purposes)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Create a list</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>b <span class="co"># print list is awkward</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3</code></pre>
</div>
</div>
<p><strong>Investigate structure of lists using <code>str()</code> function</strong></p>
<p>When investigating lists, <code>str()</code> is better than printing the list</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(b) <span class="co"># 3 elements, each element is a numeric vector w/ length=1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ : num 1
 $ : num 2
 $ : num 3</code></pre>
</div>
</div>
<p>Each element of a list can be a vector of different length (i.e., different number of elements)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>),<span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(c) <span class="co"># 2 elements; element 1=vector w/ length=2; element 2=vector w/length=3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 2
 $ : num [1:2] 3 4
 $ : num [1:3] -5 1 3</code></pre>
</div>
</div>
<p><strong>Elements within lists can have different data types</strong></p>
<p>Lists are <strong>heterogeneous</strong></p>
<ul>
<li>data types can differ across elements within a list</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="st">"apple"</span>)</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ : num 1
 $ : num 2
 $ : chr "apple"</code></pre>
</div>
</div>
<p>Vectors are <strong>homogeneous</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="st">"apple"</span>)</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:3] "1" "2" "apple"</code></pre>
</div>
</div>
<p><strong>Lists can contain other lists</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">list</span>(<span class="st">"apple"</span>, <span class="st">"orange"</span>), <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ : num [1:2] 1 2
 $ :List of 2
  ..$ : chr "apple"
  ..$ : chr "orange"
 $ :List of 3
  ..$ : num 1
  ..$ : num 2
  ..$ : num 3</code></pre>
</div>
</div>
<p>The <strong>first element</strong> of list is a numeric vector with length=2</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>x1[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2</code></pre>
</div>
</div>
<p>The <strong>second element</strong> is a list with length=2</p>
<ul>
<li>first element is character vector with length=1</li>
<li>second element is character vector with length=1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>x1[[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "apple"

[[2]]
[1] "orange"</code></pre>
</div>
</div>
<p>The <strong>third element</strong> is a list with length=3</p>
<ul>
<li>first element is numeric vector with length=1</li>
<li>second element is numeric vector with length=1</li>
<li>third element is numeric vector with length=1</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>x1[[<span class="dv">3</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3</code></pre>
</div>
</div>
<p><strong>You can name each element in the list</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">b=</span><span class="fu">list</span>(<span class="st">"apple"</span>, <span class="st">"orange"</span>), <span class="at">c=</span><span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a: num [1:2] 1 2
 $ b:List of 2
  ..$ : chr "apple"
  ..$ : chr "orange"
 $ c:List of 3
  ..$ : num 1
  ..$ : num 2
  ..$ : num 3</code></pre>
</div>
</div>
<p><code>names()</code> function shows names of elements in the list</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x2) <span class="co"># has names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b" "c"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x1) <span class="co"># no names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p><strong>Access individual elements in a “named” list</strong></p>
<p>Syntax: <code>list_name$element_name</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span>, <span class="at">b=</span><span class="fu">list</span>(<span class="st">"apple"</span>, <span class="st">"orange"</span>), <span class="at">c=</span><span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>x2<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x2<span class="sc">$</span>a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x2<span class="sc">$</span>a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x2<span class="sc">$</span>b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x2<span class="sc">$</span>b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x2<span class="sc">$</span>c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x2<span class="sc">$</span>c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Note: We’ll spend more time practicing “accessing elements of a list” in upcoming weeks</p>
<p><strong>Compare structure of list to structure of element within a list</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ a: num 1
 $ b:List of 2
  ..$ : chr "apple"
  ..$ : chr "orange"
 $ c:List of 3
  ..$ : num 1
  ..$ : num 2
  ..$ : num 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x2<span class="sc">$</span>c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 3
 $ : num 1
 $ : num 2
 $ : num 3</code></pre>
</div>
</div>
<p><strong>A DATASET IS JUST A LIST!!!!!</strong></p>
<p>A data frame is a list with the following characteristics:</p>
<ul>
<li>Data type can differ across elements (like all lists)</li>
<li>Each element (column) is a variable</li>
<li>Each element in a data frame must have the same length
<ul>
<li>The length of an element is the number of observations (rows)</li>
<li>Thus, each variable in a data frame has same number of observations</li>
</ul></li>
<li>Each element is named
<ul>
<li>these element names are the variable names</li>
</ul></li>
<li>Typically, each <strong>element</strong>(variable) in a data frame is a <strong>vector</strong>
<ul>
<li>Elements can also be lists. Happens when the variable has a complicated data structure
<ul>
<li>e.g., a variable that identifies the “@” mentions in a tweet</li>
</ul></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mpg" "cyl" "hp" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df, <span class="at">n=</span><span class="dv">4</span>) <span class="co"># print first few rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                mpg cyl  hp
Mazda RX4      21.0   6 110
Mazda RX4 Wag  21.0   6 110
Datsun 710     22.8   4  93
Hornet 4 Drive 21.4   6 110</code></pre>
</div>
</div>
<p>Additionally, data frames have “attributes”; we’ll discuss those in upcoming weeks</p>
<p><strong>A data frame is a named list</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df, <span class="at">n=</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   mpg cyl  hp
Mazda RX4         21.0   6 110
Mazda RX4 Wag     21.0   6 110
Datsun 710        22.8   4  93
Hornet 4 Drive    21.4   6 110
Hornet Sportabout 18.7   8 175</code></pre>
</div>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mpg" "cyl" "hp" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(df) <span class="co"># length=number of variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32 obs. of  3 variables:
 $ mpg: num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl: num  6 6 4 6 8 6 8 4 4 6 ...
 $ hp : num  110 110 93 110 175 105 245 62 95 123 ...</code></pre>
</div>
</div>
<p>Like any named list, we can examine the elements</p>
<ul>
<li>Individual elements of a data frame are the variables</li>
<li>These variables are vectors with length equal to the number of rows/observations</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(df<span class="sc">$</span>mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(df<span class="sc">$</span>mpg) <span class="co"># length=number of rows/obs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df<span class="sc">$</span>mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</code></pre>
</div>
</div>
</section>
<section id="main-takeaways-about-atomic-vectors-and-lists" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="main-takeaways-about-atomic-vectors-and-lists"><span class="header-section-number">3.8</span> Main takeaways about atomic vectors and lists</h2>
<p>Basic data stuctures</p>
<ol type="1">
<li><strong>(Atomic) vectors</strong>: <strong>logical</strong>, <strong>integer</strong>, <strong>double</strong>, <strong>character</strong>.
<ul>
<li>each element in vector must have same data type</li>
</ul></li>
<li><strong>Lists</strong>:
<ul>
<li>Data type can differ across elements</li>
</ul></li>
</ol>
<p><strong>Takeaways</strong></p>
<ul>
<li>These concepts are difficult; ok to feel confused</li>
<li>I will reinforce these concepts throughout the course</li>
<li>Good practice: run simple diagnostics on any new object
<ul>
<li><code>length()</code> : how many <strong>elements</strong> in the object</li>
<li><code>typeof()</code> : what <strong>type</strong> of data is the object</li>
<li><code>str()</code> : hierarchical structure of the object</li>
</ul></li>
<li>These data structures (vectors, lists) and data types (e.g., character, numeric, logical) are the basic building blocks of all object oriented programming languages</li>
<li>Application to statistical analysis
<ul>
<li>Datasets are just lists</li>
<li>The individual elements – columns/variables – within a dataset are just vectors</li>
</ul></li>
<li>These structures and data types are foundational for all “data science” applications
<ul>
<li>e.g., mapping, webscraping, network analysis, etc.</li>
</ul></li>
</ul>
</section>
</section>
<section id="using-r-functions" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Using R functions</h1>
<section id="what-are-functions" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="what-are-functions"><span class="header-section-number">4.1</span> What are functions</h2>
<p>**Functions** are pre-written bits of code that accomplish some task.</p>
<p>Functions generally follow three sequential steps:</p>
<ol type="1">
<li>take in an <strong>input</strong> object(s)</li>
<li><strong>process</strong> the input.</li>
<li><strong>return</strong> (A) a new object or (B) a visualizatoin (e.g., plot)</li>
</ol>
<p>For example, <code>sum()</code> function calculates sum of elements in a vector</p>
<ol type="1">
<li><strong>input</strong>. Takes in a vector of elements (numeric or logical)</li>
<li><strong>processing</strong>. Calculates the sum of elements</li>
<li><strong>return</strong>. Returns numeric vector of length=1; value is sum of input vector</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))) <span class="co"># type of object created by sum()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))) <span class="co"># length of object created by sum()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sum(c(TRUE,TRUE,FALSE))</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="co">#typeof(sum(c(TRUE,TRUE,FALSE))); length(sum(c(TRUE,TRUE,FALSE)))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="function-syntax" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="function-syntax"><span class="header-section-number">4.2</span> Function syntax</h2>
<p>Components of a function</p>
<ul>
<li>function name (e.g., <code>sum()</code>, <code>length()</code>, <code>seq()</code>)</li>
<li>function arguments
<ul>
<li><p>Inputs that the function takes, which determine what function does</p>
<ul>
<li>can be vectors, data frames, logical statements, etc.</li>
</ul></li>
<li><p>In “function call” you specify values to assign to these function arguments</p>
<ul>
<li>e.g., <code>sum(c(1,2,3))</code></li>
</ul></li>
<li><p>Separate arguments with a comma <code>,</code></p>
<ul>
<li>e.g., <code>seq(10,15)</code> Example: the sequence function, <code>seq()</code></li>
</ul></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 11 12 13 14 15</code></pre>
</div>
</div>
</section>
<section id="function-syntax-more-on-function-arguments" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="function-syntax-more-on-function-arguments"><span class="header-section-number">4.3</span> Function syntax: More on function arguments</h2>
<p>Usually, function arguments have names</p>
<ul>
<li>e.g., the <code>seq()</code> function includes the arguments <code>from</code>, <code>to</code>, <code>by</code></li>
<li>when you call the function, you need to assign values to these arguments; but you usually don’t have to specify the name of the argument</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">10</span>, <span class="at">to=</span><span class="dv">20</span>, <span class="at">by=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 12 14 16 18 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10 12 14 16 18 20</code></pre>
</div>
</div>
<p>Many function arguments have “default values”, set by whoever wrote the function</p>
<ul>
<li>if you don’t specify a value for that argument, the default value is inserted</li>
<li>e.g., partial list of default values for <code>seq()</code>: <code>seq(from=1, to=1, by=1)</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">to=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>) <span class="co"># R assigned value of 10 to "to" rather than "from" or "by"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
</section>
<section id="function-arguments-the-na.rm-argument" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="function-arguments-the-na.rm-argument"><span class="header-section-number">4.4</span> Function arguments, the <code>na.rm</code> argument</h2>
<p>When R performs a calculation and an input has value <code>NA</code>, output value is <code>NA</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">4</span><span class="sc">+</span><span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>R functions that perform calculations often have argument named <code>na.rm</code></p>
<ul>
<li><p><code>na.rm</code> argument asks whether to remove <code>NA</code> values prior to calculation</p></li>
<li><p>For most functions, default value is <code>na.rm = FALSE</code></p>
<ul>
<li>This means “do not remove <code>NAs</code>” prior to calculation</li>
<li>e.g., default values for <code>sum()</code> function: <code>sum(..., na.rm = FALSE)</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="cn">NA</span>), <span class="at">na.rm =</span> <span class="cn">FALSE</span>) <span class="co"># default value</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div></li>
<li><p>if you specify, <code>na.rm = TRUE</code>, <code>NA</code> values removed prior to calculation</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="cn">NA</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
</section>
<section id="help-files-for-functions" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="help-files-for-functions"><span class="header-section-number">4.5</span> Help files for functions</h2>
<p>To see help file on a function, type <code>?function_name</code> without parentheses</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>?sum</span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a>?seq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Contents of help files</strong></p>
<ul>
<li><strong>Description</strong>. What the function does</li>
<li><strong>Usage</strong>. Syntax, including default values for arguments</li>
<li><strong>Arguments</strong>. Description of function arguments</li>
<li><strong>Details</strong>. Details and idiosyncracies of about how the function works.</li>
<li><strong>Value</strong>. What (object) the function “returns”
<ul>
<li>e.g., <code>sum()</code> returns vector of length 1 whose value is sum of input vector</li>
</ul></li>
<li><strong>References</strong>. Additional reading</li>
<li><strong>See Also</strong>. Related functions</li>
<li><strong>Examples</strong>. Examples of function in action</li>
<li>Bottom of help file identifies the package the function comes from</li>
</ul>
<p>**Practice!**</p>
<ul>
<li>when you encounter a new function, spend two minutes reading the help file</li>
<li>over time, help files will feel less cryptic and will start to feel helpful</li>
</ul>
</section>
<section id="function-arguments-the-dot-dot-dot-...-argument" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="function-arguments-the-dot-dot-dot-...-argument"><span class="header-section-number">4.6</span> Function arguments, the dot-dot-dot (<code>...</code>) argument</h2>
<p>On help file for many functions, you will see an argument called <code>...</code>, referred to as the “dot-dot-dot” argument</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>?sum</span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a>?seq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>“Dot-dot-dot” arguments have several uses. What you should know for now:</p>
<ul>
<li><code>...</code> refers to arguments that are “un-named”; but user can specify values
<ul>
<li>e.g., default syntax for <code>sum()</code>: <code>sum(..., na.rm = FALSE)</code>
<ul>
<li>argument <code>na.rm</code> is “named” (name is <code>na.rm</code>); argument <code>...</code> un-named</li>
</ul></li>
</ul></li>
<li><code>...</code> used to allow a function to take an arbitrary number of arguments:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here, sum function takes 1 un-named argument, specifically c(10,5,NA)</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">5</span>,<span class="cn">NA</span>),<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here the sum function takes 3 un-named arguments</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">10</span>,<span class="dv">5</span>,<span class="cn">NA</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here the sum function takes 5 un-named arguments</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">10</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">20</span>,<span class="cn">NA</span>,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45</code></pre>
</div>
</div>
</section>
</section>
<section id="appendix" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Appendix</h1>
<section id="directories-and-filepaths-skim" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="directories-and-filepaths-skim"><span class="header-section-number">5.1</span> Directories and filepaths (skim)</h2>
<p><strong>Directories and filepaths</strong></p>
<ul>
<li>Goal: Give you a very brief overview of “directories” (i.e., folders) and “filepaths” (tells you where folder is located) in R</li>
<li>For the most part, this course won’t require extensive knowledge of working with filepaths. But the second course in this sequence will.</li>
</ul>
<p><strong>(Current) Working directory</strong></p>
<ul>
<li>The folder/directory in which you are currently working</li>
<li>This is where R looks for files</li>
<li>Files located in your current working directory can be accessed without specifying a filepath because R automatically looks in this folder</li>
</ul>
<p>Function <code>getwd()</code> shows current working directory</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures/intro_to_r"</code></pre>
</div>
</div>
<p>Command <code>list.files()</code> lists all files located in working directory</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures/intro_to_r"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "data-structures-overview.png" "fp1.JPG"                     
 [3] "fp2.JPG"                      "intro_to_r_files"            
 [5] "intro_to_r.html"              "intro_to_r.qmd"              
 [7] "intro_to_r.rmarkdown"         "pane_layout_23.jpeg"         
 [9] "pane_layout.png"              "rstudio-qmd-how-it-works.png"</code></pre>
</div>
</div>
<p><strong>Working directory, “Code chunks” vs.&nbsp;“console” and “R scripts”</strong></p>
<p>When you run <strong>code chunks</strong> in RMarkdown files (.Rmd), the working directory is set to the filepath where the .Rmd file is stored</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures/intro_to_r"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "data-structures-overview.png" "fp1.JPG"                     
 [3] "fp2.JPG"                      "intro_to_r_files"            
 [5] "intro_to_r.html"              "intro_to_r.qmd"              
 [7] "intro_to_r.rmarkdown"         "pane_layout_23.jpeg"         
 [9] "pane_layout.png"              "rstudio-qmd-how-it-works.png"</code></pre>
</div>
</div>
<p>When you run code from the <strong>R Console</strong> or an <strong>R Script</strong>, the working directory is your R Project directory (we’ll cover this in the next section).</p>
<p>Command <code>getwd()</code> shows current working directory</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures/intro_to_r"</code></pre>
</div>
</div>
<p><strong>Absolute vs.&nbsp;relative filepath</strong></p>
<p><strong>Absolute file path</strong>: The absolute file path is the complete list of directories needed to locate a file or folder.<br>
<code>setwd("/Users/pm/Desktop/rclass1/lectures/intro_to_r")</code></p>
<p><strong>Relative file path</strong>: The relative file path is the path relative to your current location/directory. Assuming your current working directory is in the “intro_to_r” folder and you want to change your directory to the data folder, your relative file path would look something like this:<br>
<code>setwd("../../data")</code></p>
<pre><code>        File path shortcuts (Mac)</code></pre>
<table class="table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Key</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>~</td>
<td>tilde is a shortcut for user’s home directory (mine is my name pm)</td>
</tr>
<tr class="even">
<td>../</td>
<td>moves up a level</td>
</tr>
<tr class="odd">
<td>../../</td>
<td>moves up two level</td>
</tr>
</tbody>
</table>
<p>Use relative path to move working directory up one level</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures/intro_to_r"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'../'</span>)</span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/patriciamartin/Desktop/Github/rclass1-redesign/lectures/updated_lectures"</code></pre>
</div>
</div>
<p><strong>Exercise</strong></p>
<ol type="1">
<li>Let’s create a folder on our desktop and name it red<br>
</li>
<li>Inside the red folder, create two subfolders named orange and yellow<br>
</li>
<li>Inside the yellow folder create another subfolder named green</li>
</ol>
<p>Make sure to name these folders in lowercase.</p>
<p>You should have 1 folder on your desktop called red. Inside the red folder you have two folders called orange and yellow. Inside the yellow folder you have a folder called green.</p>
<p>Here is a visual of how it should look…</p>
<p><strong>File path visual</strong></p>
<p><img src="fp1.JPG" class="img-fluid" width="200"> <img src="fp2.JPG" class="img-fluid" width="200"></p>
<p><strong>Exercise continued</strong></p>
<p>Let’s say we want to get to the green folder using the absolute file path.<br>
1. View your current working directory <code>getwd()</code><br>
2. Set your working directory to the green folder using the absolute file path<br>
3. Now set your working directory to the orange folder using the relative file path (hint: use <code>../</code>)</p>
<details>
<summary>
<strong>Solutions</strong>
</summary>
<p>[Solution for Mac users]</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"~/Desktop/red/yellow/green"</span>)</span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>() </span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"../../orange"</span>)</span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<p><br></p>
</section>
<section id="create-r-project" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="create-r-project"><span class="header-section-number">5.2</span> Create “R project”</h2>
<p><strong>What is an R project?</strong></p>
<ul>
<li>Helps you keep all files for a project in one place</li>
<li>When you open an R project, the file-path of your current working directory is automatically set to the file-path of your R-project</li>
</ul>
<p><strong>How to create an “R project”</strong></p>
<ol type="1">
<li>In RStudio, click on “File” &gt;&gt; “New Project” &gt;&gt; “Existing Directory” &gt;&gt; “New Project”</li>
<li>“Browse” to find folder where you want in which you want to save the “.Rproj” folder you just saved</li>
</ol>
<ul>
<li>let’s call this folder “my_rclass_folder”, but it can be any folder we want</li>
<li>the name of the “.Rproj” file will be my_rclass_folder.Rproj</li>
</ul>
<ol type="1">
<li>Then click on Create Project</li>
</ol>
<p>Using R Project</p>
<ul>
<li>save files/folders associated with this project within the “my_rclass_folder”</li>
<li>When working you want to work on the project, click on the .Rproj folder “my_rclass_folder.Rproj”</li>
<li>whenever you run a command from your <strong>R Console</strong> or an <strong>R Script</strong>, the “working directory” will be set to the filepath where “my_rclass_folder.Rproj” is saved</li>
<li>As you will see in the future (EDUC260B), this will make it easy to collaborate with colleagues
<ul>
<li>you will be able to run the exact same scripts on different computers!</li>
</ul></li>
</ul>
<p><strong>Next, you follow these steps</strong></p>
<ul>
<li>You can add any additional sub-folders you want to the “rclass1” folder
<ul>
<li>e.g., “syllabus”, “resources”</li>
</ul></li>
<li>You can add any additional files you want to the sub-directory folders you unzipped
<ul>
<li>e.g., in “rclass1/lectures/intro_to_r” you might add an additional document of notes you took</li>
</ul></li>
</ul>
</section>
<section id="r-markdown" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="r-markdown"><span class="header-section-number">5.3</span> R Markdown</h2>
<p><strong>What is R Markdown</strong></p>
<ul>
<li>R Markdown documents embed R code, output associated with R code, and text into one document</li>
<li>An R Markdown document is a “‘Living’ document that updates every time you compile [”knit”] it”</li>
<li>R Markdown documents have the extension .Rmd
<ul>
<li>Can think of them as text files with the extension .Rmd rather than .txt</li>
</ul></li>
<li>At top of .Rmd file you specify the “output” style, which dictates what kind of formatted document will be created
<ul>
<li>e.g., <code>html_document</code> or <code>pdf_document</code></li>
</ul></li>
<li>When you compile [“knit”] a .Rmd file, the resulting formatted document can be an HTML document, a PDF document, an MS Word document, or many other types</li>
</ul>
<p><em>This slide borrows from Darin Christensen</em></p>
<p><strong>How people use R Markdown</strong></p>
<p>R Markdown creates many types of static and dynamic/interactive documents</p>
<ul>
<li>Example of <a href="https://emraresearch.org/sites/default/files/2019-03/joyce_report.pdf">static policy report</a></li>
<li>Example of <a href="https://ozanj.github.io/joyce_report/#/title">dynamic/interactive presentation</a></li>
</ul>
<p>How I use R Markdown</p>
<ul>
<li>Journal manuscripts; reports; presentations; for taking notes when I am learning new methods or reading an empirical paper</li>
</ul>
<p>How we will be using R Markdown files in this class:</p>
<ul>
<li>Homework you submit will be .Rmd files, where “output” style will be <code>html_document</code> or <code>pdf_document</code></li>
<li>Lectures we write are .Rmd files, where the output style will <code>html_document</code>(can also be <code>beamer_presentation</code> or <code>word_document</code>)
<ul>
<li><code>beamer_presentation</code> is essentially a PDF document, where each page is a slide</li>
</ul></li>
</ul>
<p><strong>Creating R Markdown documents</strong></p>
<p><strong>Do this with a partner</strong></p>
<p>Approach for creating a RMarkdown document.</p>
<ol type="1">
<li>Point-and-click from within RStudio
<ul>
<li>Click on <em>File</em> &gt;&gt; <em>New File</em> &gt;&gt; <em>R Markdown</em> &gt;&gt; <em>Document</em> &gt;&gt; choose <em>HTML</em> &gt;&gt; click <em>OK</em>
<ul>
<li>Optional: add title (this is not the file name, just what appears at the top of document)</li>
<li>Optional: add author name</li>
</ul></li>
<li>Save the .Rmd file; <em>File</em> &gt;&gt; <em>Save As</em>
<ul>
<li>Any file name</li>
<li>Recommend you save it in same folder you saved this lecture</li>
</ul></li>
<li>“Knit” the entire .Rmd file
<ul>
<li>Point-and-click OR shortcut: <strong>Cmd/Ctrl + Shift + k</strong></li>
</ul></li>
</ul></li>
</ol>
<p><strong>Components of a .Rmd file</strong></p>
<p>An R Markdown (.Rmd) file consists of several parts</p>
<ol type="1">
<li><strong>YAML header</strong>
<ul>
<li>YAML stands for “yet another markup language”</li>
<li>Controls settings that apply to the whole document (e.g., “output” should be <code>html_document</code> or <code>pdf_document</code>, whether to include table of contents, etc.)</li>
<li>YAML header goes at the very top of the document</li>
<li>Starts with a line of three horizontal dashes <code>---</code>; ends with a line of three horizontal dashes <code>---</code></li>
</ul></li>
<li><strong>Text</strong> in body of .Rmd file
<ul>
<li>e.g., headings; description of results, etc.</li>
</ul></li>
<li><strong>R code chunks</strong> in body of .Rmd file</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>)</span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>a<span class="dv">-1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li><strong>R output</strong> associated with code chunks</li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 5</code></pre>
</div>
</div>
</section>
<section id="comment-running-r-code-chunks-vs.-knit-entire-.rmd-file" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="comment-running-r-code-chunks-vs.-knit-entire-.rmd-file"><span class="header-section-number">5.4</span> Comment: Running R code chunks vs.&nbsp;“knit” entire .Rmd file</h2>
<p>Two ways to execute R commands in .Rmd file:</p>
<ol type="1">
<li>“Knit” entire .Rmd file
<ul>
<li>shortcut: <strong>Cmd/Ctrl + Shift + k</strong></li>
</ul></li>
<li>“Run” code chunk or selected lines within code chunk
<ul>
<li>Run selected line(s): <strong>Cmd/Ctrl + Enter</strong></li>
<li>Run current chunk: <strong>Cmd/Ctrl + Shift + Enter</strong></li>
</ul></li>
</ol>
<p>Comment on default settings for RStudio:</p>
<ul>
<li>When you knit entire .Rmd file, “objects” created within .Rmd file will not be available after file compiles</li>
<li>When you run code chunk (or selected lines in chunk), objects created by lines you run will be in your “environment” until you remove them or quit R session</li>
</ul>
<p><strong>Output types of .Rmd file</strong></p>
<p>Common/important output types:</p>
<ul>
<li><strong>html_document</strong>: R Markdown originally designed to create HTML documents
<ul>
<li>Most features/code in .Rmd files were written for html_document</li>
<li>Many of these features are available in other output types</li>
<li>When learning R Markdown, best to start by learning html_document</li>
</ul></li>
<li><strong>pdf_document</strong>: Requires installation of <code>tinytex</code> R package or LaTeX (MiKTeX/MacTeX)
<ul>
<li>How it works:
<ul>
<li>You write .Rmd code</li>
<li>When you compile, this .Rmd code is transformed into LaTeX code</li>
<li>LaTeX “engine” creates the formatted .pdf file</li>
</ul></li>
<li>Can include some of the same features available for <em>html_document</em></li>
<li>Can insert LaTeX commands in .Rmd file with <em>pdf_document</em> output</li>
</ul></li>
<li><strong>beamer_presentation</strong>: Requires installation of LaTeX
<ul>
<li>“beamer” is the name for presentations written in LaTeX</li>
<li>Essentially creates PDF of presentation slides</li>
<li>Lectures for this class created with <em>beamer_presentation</em> output</li>
<li>Note: YAML header includes <code>beamer_header.tex</code> file, which creates some formatting rules and additional commands</li>
</ul></li>
</ul>
<p><strong>Learning more about R Markdown</strong></p>
<p>Resources</p>
<ul>
<li>Cheat sheets and quick reference:
<ul>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">Cheat Sheet</a></li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">Quick Reference</a> [I prefer the quick reference]</li>
</ul></li>
<li>Chapters/books
<ul>
<li><a href="http://r4ds.had.co.nz/r-markdown.html">Chapter 27</a> of “R for Data Science” book</li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definative Guide</a> book [I prefer this book]</li>
</ul></li>
</ul>
<p>How you will learn R Markdown</p>
<ul>
<li>Lectures written as .Rmd file
<ul>
<li>During class run “code chunks” and try to “knit” entire .Rmd file</li>
</ul></li>
<li>I’ll assign <strong>small</strong> amount of reading on R Markdown
<ul>
<li>Prior to next week:
<ul>
<li>Spend 15 minutes familiarizing yourself with <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">Quick Reference</a></li>
<li>Read section <a href="https://bookdown.org/yihui/rmarkdown/html-document.html">3.1 of R Markdown: The Definative Guide</a>, about creating html_document</li>
</ul></li>
</ul></li>
<li>Homework must be written in .Rmd file
<ul>
<li>You will submit .Rmd file AND output of compiled file</li>
<li>For next week, you will submit homework as html_document output</li>
</ul></li>
</ul>
<!--
## Directory structure for this class

In order to be able to "knit" entire lectures \[rather than just run specific code chunks\] make sure that you have the following directory structure:

-   rclass1
    -   lectures
        -   intro_to_r/
        -   ...
        -   join_data/
        -   beamer_header.tex

What is beamer_header.tex?

-   A text file that contains \LaTeX code
-   This code creates formatting rules that are applied to all lecture slides
-   If you go YAML header you will see:

::: {.cell}

```{.r .cell-code}
    includes:
      in_header: ../beamer_header.tex
```
:::

-   This runs beamer_header.tex; assumes that beamer_header.tex is located one level up from your current directory
-   If you don't have beamer_header.tex saved to appropriate place, you can download it here [LINK](https://github.com/anyone-can-cook/rclass1/blob/master/lectures/beamer_header.tex)
-   Note: we may revise beamer_header.tex as we work out formatting bugs
-->
</section>
<section id="matrices-optional" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="matrices-optional"><span class="header-section-number">5.5</span> Matrices [optional]</h2>
<p><strong>Matrices</strong></p>
<p>A <strong>matrix</strong> is a collection of elements arranged in a two-dimensional rectangular layout</p>
<ul>
<li>A matrix is another “data structure,” in addition to vectors and lists</li>
<li>Create a matrix named <code>m</code> with 2 rows and 3 columns</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>( </span>
<span id="cb269-2"><a href="#cb269-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">7</span>), <span class="co"># the data elements </span></span>
<span id="cb269-3"><a href="#cb269-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow=</span><span class="dv">2</span>,              <span class="co"># number of rows </span></span>
<span id="cb269-4"><a href="#cb269-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="dv">3</span>,              <span class="co"># number of columns </span></span>
<span id="cb269-5"><a href="#cb269-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span>         <span class="co"># fill matrix by rows </span></span>
<span id="cb269-6"><a href="#cb269-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb269-7"><a href="#cb269-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-8"><a href="#cb269-8" aria-hidden="true" tabindex="-1"></a>m <span class="co"># print matrix m</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    2    4    3
[2,]    1    5    7</code></pre>
</div>
</div>
<p><strong>Investigate matrix <code>m</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(m) <span class="co"># type = "double"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(m) <span class="co"># type = numeric; has two rows and three columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:2, 1:3] 2 1 4 5 3 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(m) <span class="co"># class = matrix; more on class later</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
</div>
<p><br></p>
<p><strong>Like atomic vectors, matrices are homogenous data structures</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>( </span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="co"># the data elements </span></span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow=</span><span class="dv">2</span>,              <span class="co"># number of rows </span></span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="dv">3</span>,              <span class="co"># number of columns </span></span>
<span id="cb277-5"><a href="#cb277-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span>         <span class="co"># fill matrix by rows </span></span>
<span id="cb277-6"><a href="#cb277-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb277-7"><a href="#cb277-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-8"><a href="#cb277-8" aria-hidden="true" tabindex="-1"></a>m2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,] "2"  "4"  "3" 
[2,] "a"  "b"  "c" </code></pre>
</div>
</div>
<p><strong>Investigate matrix <code>m</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(m2) <span class="co"># type = "character"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(m2) <span class="co"># type = character; has two rows and three columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:2, 1:3] "2" "a" "4" "b" "3" "c"</code></pre>
</div>
</div>
<p><br></p>
<p><strong>Why are data frames based on lists rather than matrices?</strong></p>
<ul>
<li>a matrix is a homogenous data structure, so you couldn’t have both a numeric variable and a character variable</li>
<li>a list is a heterogeneous data structure, allowing for variables of different underlying data types</li>
</ul>
<p><strong>How are matrices used in R</strong></p>
<ul>
<li>the underlying code for statistical models uses matrices (e.g., covariance matrix, matrix of regression coefficients)</li>
<li>For most data manipulation tasks, matrices used much less frequently than vectors and lists
<ul>
<li>In this course, we won’t use matrices much at all</li>
</ul></li>
<li>Particular applications (e.g., social network analysis) make frequent use of matrices</li>
<li>Create an “adjacency matrix,” which defines whether actors are connected to one another in a social network</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb283"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">matrix</span>( </span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb283-5"><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="cn">NA</span>), <span class="co"># the data elements </span></span>
<span id="cb283-6"><a href="#cb283-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow=</span><span class="dv">4</span>,              <span class="co"># number of rows </span></span>
<span id="cb283-7"><a href="#cb283-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="dv">4</span>,              <span class="co"># number of columns </span></span>
<span id="cb283-8"><a href="#cb283-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span>         <span class="co"># fill matrix by rows </span></span>
<span id="cb283-9"><a href="#cb283-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb283-10"><a href="#cb283-10" aria-hidden="true" tabindex="-1"></a>a_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"d"</span>) <span class="co"># create vector of actor names</span></span>
<span id="cb283-11"><a href="#cb283-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(a) <span class="ot">&lt;-</span> a_names <span class="co"># assign names to rows</span></span>
<span id="cb283-12"><a href="#cb283-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(a) <span class="ot">&lt;-</span> a_names <span class="co"># assign names to columns</span></span>
<span id="cb283-13"><a href="#cb283-13" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   a  b  c  d
a NA NA NA NA
b  1 NA NA NA
c  1  0 NA NA
d  0  1  0 NA</code></pre>
</div>
</div>
<!-- Code not working, unable to open the connection to the github data file

__Practical example of matrices: Network data of recruiting visits from colleges to high schools__

For this example, don't worry about understanding the code

-   We will explain this code over coming weeks

Object `g_2mode_privu` contains:

-   off-campus recruiting visits from private colleges/universities to private high schools
-   load `g_2mode_privu`



::: {.cell}

```{.r .cell-code}
# load igraph object of visits by private colleges/universities to private high schools
load(url("https://github.com/cyouh95/recruiting-chapter/raw/master/data/g_2mode_privu.rda"))
```
:::

<br>

__Investigate object `g_2mode_privu`__

::: {.cell}

```{.r .cell-code}
typeof(g_2mode_privu) # igraph package stores network data as type = list
class(g_2mode_privu) # class = igraph
```
:::

The "vertices" consist of colleges and high schools

::: {.cell}

```{.r .cell-code}
vcount(g_2mode_privu) # 1356 "nodes" or "vertices"
table(V(g_2mode_privu)$type) # 1330 private high schools; 26 private colleges/universities
```
:::

An "edge" occurs when two vertices are connected to one another

-   in `g_2mode_privu`, an edge occurs when a particular college visits a particular high school

::: {.cell}

```{.r .cell-code}
ecount(g_2mode_privu)
```
:::

<br>

An igraph object (type = list; class = igraph) can be decomposed into:

-   a dataframe that contains characteristics (referred to as "attributes" in network literature) of the vertices
-   a matrix that identifies whether two vertices are connected by an edge

Create a data frame of vertex attributes

::: {.cell}

```{.r .cell-code}
df_attr <- as_data_frame(x = g_2mode_privu, what = "vertices")

typeof(df_attr) # type = list
length(df_attr) # length = number of variables
class(df_attr) # data.frame
str(df_attr)
```
:::



__Examine data frame of vertex attributes__

::: {.cell}

```{.r .cell-code}
#df_attr %>% glimpse()
# vertices = universities
df_attr %>% filter(type == TRUE) %>% select(unitid,univ_name_ipeds,state_code_ipeds, classification_ipeds)

# vertices = high schools
df_attr %>% filter(type == FALSE) %>% select(ppin,name_pss,city_pss, state_code_pss)
```
:::

<br>

__Examine individual variables within data frame__

-   takeaway: invidividual variables within data frame are vectors!

::: {.cell}

```{.r .cell-code}
typeof(df_attr$name_pss) # vector of type = character
str(df_attr$name_pss) # length of vector is number of obs

typeof(df_attr$total_enrolled_pss) # vector of type = integer
str(df_attr$total_enrolled_pss)
```
:::

__Create adjacency matrix of which colleges visited which high schools__

::: {.cell}

```{.r .cell-code}
adj_mat <- as_adjacency_matrix(graph = g_2mode_privu, type = "both", 
                               sparse = FALSE)
```
:::

__Investigate adjacency matrix__

::: {.cell}

```{.r .cell-code}
typeof(adj_mat) # a numeric "double" object
class(adj_mat) # matrix class
#str(adj_mat) # 1,356 rows by 1,356 columns
```
:::

__Print a few cells, visits by colleges (columns) to high schools (rows)__

-   colleges: "`139658`" = Emory University; "`147767`" = Northwestern University; "`152080`" = University of Notre Dame

::: {.cell}

```{.r .cell-code}
#syntax: object_name[<rows to print>,<columns to print>]
adj_mat[c("00000226","00000237","00000714"),c("139658","147767","152080")]
```
:::

__Plot the 2-mode network__

::: {.cell}

:::
-->
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>